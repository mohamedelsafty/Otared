<section class="reset-password reset-password__bg">
  <div class="container">
    <div class="page-header">
      <h2 class="page-header__title">كلمة المرور الجديدة</h2>
    </div>
    <form #resetForm="ngForm">
      <div class="row">
        <div class="col-md-3">
          <div class="form-group">
            <label>كلمه السر</label>
            <div class="form-group__composed">
              <input
                [type]="isTextFieldType ? 'text' : 'password'"
                class="form-control"
                placeholder="*********"
                name="password_hash"
                #password_hash="ngModel"
                minlength="8"
                [(ngModel)]="user.password_hash"
                required
              />
              <svg class="form-group__icon" (click)="togglePasswordFieldType()">
                <use
                  xlink:href="/assets/image/svg-icons.svg#icon-visibility"
                ></use>
              </svg>
            </div>
            <div
              *ngIf="
                password_hash.invalid &&
                (password_hash.dirty || password_hash.touched)
              "
              class="validation"
            >
              <p
                class="validation__title"
                *ngIf="password_hash.errors.required"
              >
                هذا الحقل مطلوب
              </p>
              <p
                class="validation__title"
                *ngIf="password_hash.errors?.minlength"
              >
                يجب أن يكون طول النص على الأقل 8 حروفٍ/حرفًا
              </p>
            </div>
          </div>
          <div class="form-group">
            <label> تاكيد كلمه السر </label>
            <div class="form-group__composed">
              <input
                [type]="isTextFieldType ? 'text' : 'password'"
                class="form-control"
                placeholder="*********"
                name="r_password_hash"
                #r_password_hash="ngModel"
                [(ngModel)]="user.r_password_hash"
                required
              />
              <svg class="form-group__icon" (click)="togglePasswordFieldType()">
                <use
                  xlink:href="/assets/image/svg-icons.svg#icon-visibility"
                ></use>
              </svg>
            </div>
            <div
              *ngIf="
                r_password_hash.invalid &&
                (r_password_hash.dirty || r_password_hash.touched)
              "
              class="validation"
            >
              <p
                class="validation__title"
                *ngIf="r_password_hash.errors.required"
              >
                هذا الحقل مطلوب
              </p>
            </div>
            <p
              class="validation__title"
              *ngIf="password_hash.value !== r_password_hash.value"
            >
              يجب ان يتطابق مع كلمه السر
            </p>
          </div>
          <div class="reset-password__link">
            <button
              (click)="reset()"
              type="submit"
              [disabled]="!resetForm.valid"
              class="button button--block button--radius button--secondary"
            >
              <span>حفظ كلمه المرور</span>
              <div class="loading" *ngIf="isLoading">
                <mat-spinner diameter="30" strokeWidth="3"></mat-spinner>
              </div>
            </button>
          </div>
        </div>
      </div>
    </form>
  </div>
</section>
