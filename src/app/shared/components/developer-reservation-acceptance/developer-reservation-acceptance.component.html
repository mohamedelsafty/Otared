<div class="dialog" *ngIf="!confirmReservation">
  <div class="dialog-content">
    <div class="dialog__title">
      <h2 class="dialog__title-text m-0" *ngIf="target === 'acceptance'">
        الموافقة علي طلب حجز وحدة
      </h2>
      <h2 class="dialog__title-text m-0" *ngIf="target === 'extande'">
        تمديد مدة حجز وحدة
      </h2>
      <button class="dialog__title-close" mat-icon-button (click)="onNoClick()">
        <svg>
          <use xlink:href="/assets/image/svg-icons.svg#icon-close"></use>
        </svg>
      </button>
    </div>
  </div>
  <div class="dialog-actions">
    <p class="typo-body2 l-f text-info">
      <span>رقم الطلب</span>
      <span>:</span>
      <span>{{ reservation.id }}</span>
    </p>
    <p class="typo-body2 l-f text-info">
      <span>اسم المشروع</span>
      <span>:</span>
      <span>{{ reservation.project.name }}</span>
    </p>
    <p class="typo-body2 l-f text-info">
      <span>اسم النموذج</span>
      <span>:</span>
      <span>{{ reservation.instance.name }}</span>
    </p>
    <p class="typo-body2 l-f text-info">
      <span>فئة النموذج</span>
      <span>:</span>
      <span>فيلا</span>
    </p>
    <p class="typo-body2 l-f text-info">
      <span>نوع النموذج</span>
      <span>:</span>
      <!-- <span>{{ reservation.project.project_type }}</span> -->
      <span *ngIf="reservation.project.project_type == 'SaleOnmap'">
        بيع على الخارطة
      </span>
      <span *ngIf="reservation.project.project_type == 'ReadyUnits'">
        وحدات جاهزة
      </span>
    </p>
    <p class="typo-body2 l-f text-info">
      <span>رقم الوحدة</span>
      <span>:</span>
      <span>{{ reservation.project.id }}</span>
    </p>
    <p class="typo-body2 l-f text-info">
      <span *ngIf="target === 'acceptance'">مدة الحجز</span>
      <span *ngIf="target === 'extande'">تمديد الحجز</span>
      <span>:</span>
      <span>
        <select
          class="form-control form-control--sm"
          name="reservationDuration"
          #reservationDuration="ngModel"
          [(ngModel)]="duration"
        >
          <option [ngValue]="7">7 أيام</option>
          <option [ngValue]="14">14 يوم</option>
          <option [ngValue]="21">21 يوم</option>
        </select>
      </span>
    </p>
  </div>
  <div class="dialog-actions">
    <button
      *ngIf="target === 'acceptance'"
      (click)="postAcceptance()"
      [disabled]="isLoading"
      class="button button--custom-md button--radius button--secondary"
    >
      تأكيد
    </button>
    <button
      *ngIf="target === 'extande'"
      (click)="postExtension()"
      [disabled]="isLoading"
      class="button button--custom-md button--radius button--secondary"
    >
      تمديد
    </button>
    <button
      mat-dialog-close
      (click)="onNoClick()"
      [disabled]="isLoading"
      class="button button--custom-md button--radius button--outline"
    >
      العودة
    </button>
  </div>
</div>

<!-- if accepted -->

<div class="dialog" *ngIf="confirmReservation">
  <div *ngIf="confirmReservationSuccess">
    <div class="dialog-content">
      <div class="dialog__title">
        <h2 class="dialog__title-text m-0" *ngIf="target === 'acceptance'">
          تم حجز الوحدة بنجاح
        </h2>
        <h2 class="dialog__title-text m-0" *ngIf="target === 'extande'">
          تم تمديد الوحدة بنجاح
        </h2>
        <button
          class="dialog__title-close"
          mat-icon-button
          (click)="onNoClick()"
        >
          <svg>
            <use xlink:href="/assets/image/svg-icons.svg#icon-close"></use>
          </svg>
        </button>
      </div>
    </div>
    <div class="dialog-actions" *ngIf="target === 'acceptance'">
      <div class="content-center m-b-30">
        <svg
          *ngIf="target === 'acceptance'"
          class="dialog-actions__icon"
          viewBox="0 0 82.596 99.826"
        >
          <defs>
            <style>
              .a {
                fill: #1c3257;
              }

              .b {
                fill: #fff;
              }

              .c {
                fill: #59c0a1;
              }
            </style>
          </defs>
          <g transform="translate(-19536.727 -8415.864)">
            <g transform="translate(19536.727 8415.864)">
              <rect class="a" width="69.618" height="86.325" />
              <rect
                class="b"
                width="14.918"
                height="9.946"
                transform="translate(4.848 7.335)"
              />
              <rect
                class="b"
                width="57.684"
                height="3.481"
                transform="translate(4.973 26.536)"
              />
              <rect
                class="b"
                width="57.684"
                height="3.481"
                transform="translate(4.973 35.67)"
              />
              <rect
                class="b"
                width="57.684"
                height="3.481"
                transform="translate(4.973 44.804)"
              />
              <rect
                class="b"
                width="57.684"
                height="3.481"
                transform="translate(4.973 53.937)"
              />
              <rect
                class="b"
                width="57.684"
                height="3.481"
                transform="translate(4.973 63.07)"
              />
              <path
                class="c"
                d="M448.176,538.915a13.637,13.637,0,1,1-2.113-7.3A13.637,13.637,0,0,1,448.176,538.915Z"
                transform="translate(-365.58 -452.713)"
              />
              <path
                class="b"
                d="M460.484,541.731,447.023,555.19c-.846-1.31-5.56-7.4-5.56-7.4a19.1,19.1,0,0,1,1.929-1.7L447.3,551.3l11.606-11.606A13.62,13.62,0,0,1,460.484,541.731Z"
                transform="translate(-380.001 -462.835)"
              />
            </g>
          </g>
        </svg>
        <p class="typo-body2">
          تم حجز الوحدة لمدة {{ reservationResult.reservation_duration }} أيام
          تنتهي في تاريخ {{ end }}
        </p>
      </div>
      <p class="typo-body2 l-f text-info text-info--bold">
        <span>الوحدة</span>
        <span>:</span>
        <span>{{ reservationResult.instances_unit_id }}</span>
      </p>
      <p class="typo-body2 l-f text-info text-info--bold">
        <span>اسم النموذج</span>
        <span>:</span>
        <span>{{ reservation.instance.name }}</span>
      </p>
      <p class="typo-body2 l-f text-info text-info--bold">
        <span>اسم المشروع</span>
        <span>:</span>
        <span>{{ reservation.project.name }}</span>
      </p>
    </div>

    <div class="dialog-actions" *ngIf="target === 'extande'">
      <div class="content-center m-b-30">
        <svg
          *ngIf="target === 'extande'"
          class="dialog-actions__icon"
          viewBox="0 0 96.674 107.345"
        >
          <defs>
            <style>
              .a {
                fill: #45b7c4;
              }
              .b {
                fill: #be9e5f;
              }
              .c {
                opacity: 0.1;
              }
              .d {
                fill: #fff;
              }
              .e {
                fill: #59c0a1;
              }
            </style>
          </defs>
          <g transform="translate(-760.145 -324.09)">
            <g transform="translate(760.145 324.09)">
              <path
                class="a"
                d="M876.7,143.879a20.634,20.634,0,0,1-1.519,10.682,18.715,18.715,0,0,1-3.1-20.43A20.623,20.623,0,0,1,876.7,143.879Z"
                transform="translate(-801.586 -134.13)"
              />
              <path
                class="a"
                d="M1007.4,282.146a11.212,11.212,0,0,1,5.642,1.631,10.184,10.184,0,0,1-11.246.123A11.2,11.2,0,0,1,1007.4,282.146Z"
                transform="translate(-916.372 -263.406)"
              />
              <path
                class="a"
                d="M952.932,185.588a15.505,15.505,0,0,0-3.5,7.328A14.092,14.092,0,0,0,959.9,181.41,15.5,15.5,0,0,0,952.932,185.588Z"
                transform="translate(-870.633 -175.424)"
              />
              <rect
                class="b"
                width="88.496"
                height="79.254"
                rx="16.37"
                transform="translate(0 14.269)"
              />
              <g class="c" transform="translate(10.659 43.092)">
                <path
                  d="M471.929,486.782l-2.226,1.071-17.978,8.667-1.586.76a.886.886,0,0,1-1.2-.465.87.87,0,0,1-.063-.328v-5.12a.886.886,0,0,0-.88-.886H404.116a.886.886,0,0,1-.886-.88v-7.229a.886.886,0,0,1,.886-.886H448a.886.886,0,0,0,.88-.88v-5.234a.869.869,0,0,1,.063-.328.886.886,0,0,1,1.2-.462l1.584.771,17.978,8.758,2.229,1.082a.886.886,0,0,1,0,1.588Z"
                  transform="translate(-403.23 -474.496)"
                />
              </g>
              <path
                class="d"
                d="M471.929,481.782l-2.226,1.071-17.978,8.667-1.586.76a.886.886,0,0,1-1.2-.465.868.868,0,0,1-.063-.328v-5.12a.886.886,0,0,0-.88-.886H404.116a.886.886,0,0,1-.886-.88v-7.229a.886.886,0,0,1,.886-.886H448a.886.886,0,0,0,.88-.88v-5.234a.869.869,0,0,1,.063-.328.886.886,0,0,1,1.2-.462l1.584.771,17.978,8.758,2.229,1.082a.886.886,0,0,1,0,1.588Z"
                transform="translate(-393.584 -427.038)"
              />
            </g>
            <g transform="translate(826.401 402.982)">
              <path
                class="e"
                d="M449.353,539.5a14.225,14.225,0,1,1-2.2-7.62A14.225,14.225,0,0,1,449.353,539.5Z"
                transform="translate(-420.9 -525.264)"
              />
              <path
                class="d"
                d="M461.3,541.819l-14.042,14.04c-.883-1.366-5.8-7.716-5.8-7.716a19.923,19.923,0,0,1,2.013-1.777l4.077,5.436,12.107-12.107A14.2,14.2,0,0,1,461.3,541.819Z"
                transform="translate(-435.057 -535.199)"
              />
            </g>
          </g>
        </svg>
        <p class="typo-body2">
          تم تمديد الوحدة لمدة {{ reservationResult.reservation_duration }} أيام
          تنتهي في تاريخ
          {{ end }}
        </p>
      </div>
      <p class="typo-body2 l-f text-info text-info--bold">
        <span>الوحدة</span>
        <span>:</span>
        <span>{{ reservation.id }}</span>
      </p>
      <p class="typo-body2 l-f text-info text-info--bold">
        <span>اسم النموذج</span>
        <span>:</span>
        <span>{{ reservation.instance.name }}</span>
      </p>
      <p class="typo-body2 l-f text-info text-info--bold">
        <span>اسم المشروع</span>
        <span>:</span>
        <span>{{ reservation.project.name }}</span>
      </p>
    </div>

    <div class="dialog-actions">
      <button
        class="button button--radius button--custom-md button--secondary"
        [routerLink]="'/developer/reservations'"
        (click)="onNoClick()"
        *ngIf="target === 'acceptance'"
      >
        طلبات الحجز
      </button>
      <button
        class="button button--radius button--custom-md button--secondary"
        [routerLink]="'/developer/reservations/accepted'"
        (click)="onNoClick()"
        *ngIf="target === 'extande'"
      >
        الحجوزات
      </button>
      <button
        mat-dialog-close
        [routerLink]="'/developer/dashboard'"
        (click)="onNoClick()"
        class="button button--custom-md button--radius button--outline"
      >
        الصفحة الرئيسية
      </button>
    </div>
  </div>
  <div *ngIf="!confirmReservationSuccess">
    <div class="dialog-content">
      <div class="dialog__title">
        <h2 class="dialog__title-text m-0">
          {{ reservationResult.error }}
        </h2>
        <button
          class="dialog__title-close"
          mat-icon-button
          (click)="onNoClick()"
        >
          <svg>
            <use xlink:href="/assets/image/svg-icons.svg#icon-close"></use>
          </svg>
        </button>
      </div>
    </div>
    <div class="dialog-actions content-center">
      <svg class="dialog-actions__icon" viewBox="0 0 84.769 102.453">
        <defs>
          <style>
            .a {
              fill: #5d5d5d;
            }

            .b {
              fill: #fff;
            }

            .c {
              fill: #c05959;
            }
          </style>
        </defs>
        <g transform="translate(-19536.727 -8415.864)">
          <g transform="translate(19536.727 8415.864)">
            <rect class="a" width="71.45" height="88.597" />
            <rect
              class="b"
              width="15.311"
              height="10.207"
              transform="translate(4.976 7.528)"
            />
            <rect
              class="b"
              width="59.202"
              height="3.573"
              transform="translate(5.104 27.235)"
            />
            <rect
              class="b"
              width="59.202"
              height="3.573"
              transform="translate(5.104 36.608)"
            />
            <rect
              class="b"
              width="59.202"
              height="3.573"
              transform="translate(5.104 45.983)"
            />
            <rect
              class="b"
              width="59.202"
              height="3.573"
              transform="translate(5.104 55.356)"
            />
            <rect
              class="b"
              width="59.202"
              height="3.573"
              transform="translate(5.104 64.73)"
            />
            <g transform="translate(56.776 74.459)">
              <path
                class="c"
                d="M448.893,539.274a14,14,0,1,1-2.169-7.5A14,14,0,0,1,448.893,539.274Z"
                transform="translate(-420.9 -525.264)"
              />
              <path
                class="b"
                d="M19.4,17.845l4.685-4.685a1.1,1.1,0,1,0-1.552-1.552l-4.685,4.685L13.16,11.608a1.1,1.1,0,1,0-1.552,1.552l4.685,4.685L11.608,22.53a1.1,1.1,0,0,0,1.552,1.552L17.845,19.4l4.685,4.685a1.1,1.1,0,0,0,1.552-1.552Z"
                transform="translate(-3.757 -3.369)"
              />
            </g>
          </g>
        </g>
      </svg>
      <p class="typo-headline">
        {{ reservationResult.error }}
      </p>
    </div>
    <div class="dialog-actions">
      <button
        mat-dialog-close
        (click)="onNoClick()"
        class="button button--custom-md button--radius button--danger"
      >
        إغلاق
      </button>
    </div>
  </div>
</div>
